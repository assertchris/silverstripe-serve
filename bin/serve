#!/usr/bin/env php
<?php

require_once __DIR__ . "/../code/bootstrap.php";
require_once BASE_PATH . "/vendor/autoload.php";

// Get server options....

$options = getopt(null, ["host:", "port:", "hash:", "bootstrap-file:"]);

$host = __serve_get_value($options, "host", "SERVE_HOST", "localhost");
$port = __serve_get_value($options, "port", "SERVE_PORT", "8080");
$hash = __serve_get_value($options, "hash", "SERVE_HASH");
$boot = __serve_get_value($options, "bootstrap-file", "SERVE_BOOTSTRAP_FILE");

// Launch the server...

$server = new SilverStripe\Serve\ServerLauncher();
$server->run($host, $port, BASE_PATH, $hash, $boot);
